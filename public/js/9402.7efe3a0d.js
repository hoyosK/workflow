"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[9402],{9402:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});t(7658);var s=t(3396),r=t(9242);const o=(0,s._)("strong",null,"Listado de usuarios",-1),l=(0,s._)("i",{class:"fas fa-sync me-2"},null,-1),u={class:"mb-3"},n=(0,s._)("label",{for:"password",class:"form-label"},"Buscar por",-1),i={class:"row"},c={class:"col-3"},d=(0,s._)("option",{value:"email"},"Correo electrónico",-1),m=(0,s._)("option",{value:"name"},"Nombre",-1),p=[d,m],f={class:"col-3"},_=["onClick"],h=["onClick"];function v(e,a,t,d,m,v){const b=(0,s.up)("CCardHeader"),C=(0,s.up)("EasyDataTable"),w=(0,s.up)("CCardBody"),g=(0,s.up)("CCard"),y=(0,s.up)("CCol"),x=(0,s.up)("CRow");return(0,s.wg)(),(0,s.j4)(x,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[o,(0,s._)("button",{onClick:a[0]||(a[0]=a=>e.$router.push("/usuarios/new")),class:"btn btn-primary float-end"},"Crear nuevo"),(0,s._)("button",{onClick:a[1]||(a[1]=(...e)=>v.userSync&&v.userSync(...e)),class:"btn btn-primary float-end me-2"},[l,(0,s.Uk)("Sincronizar usuarios")])])),_:1}),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",u,[n,(0,s._)("div",i,[(0,s._)("div",c,[(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=e=>m.typeSearch=e)},p,512),[[r.bM,m.typeSearch]])]),(0,s._)("div",f,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>m.searchValue=e),class:"form-control",placeholder:"Escribe aquí tu búsqueda"},null,512),[[r.nr,m.searchValue]])])])])]),(0,s.Wm)(C,{headers:m.headers,items:m.items,"search-field":m.typeSearch,"search-value":m.searchValue,alternating:""},{"item-operation":(0,s.w5)((e=>[(0,s._)("div",null,[(0,s._)("i",{class:"fas fa-pencil icon me-3",onClick:a=>v.editItem(e)},null,8,_),(0,s._)("i",{class:"fas fa-trash icon",onClick:a=>v.deleteItem(e)},null,8,h)])])),_:1},8,["headers","items","search-field","search-value"])])),_:1})])),_:1})])),_:1})])),_:1})}var b=t(4768),C=t(86),w={name:"Tables",data(){return{typeSearch:"email",searchValue:"",headers:[{text:"Nombre de usuario",value:"nombreUsuario"},{text:"Correo electrónico",value:"email"},{text:"Nombre",value:"name"},{text:"Corporativo",value:"corporativo"},{text:"Estado",value:"estado"},{text:"Rol",value:"rolUsuario"},{text:"Operación",value:"operation"}],items:[]}},mounted(){this.getItems()},methods:{getItems(){const e=this;b.Z.doAjax("GET","users/list",{},(function(a){e.items=b.Z.prepareForTable(a.data)}),(function(e){b.Z.alert(e.msg,"danger")}))},deleteItem(e){const a=this;b.Z.confirm("Se desactivará este usuario, ¿desea continuar?",(function(){b.Z.doAjax("POST","users/user/delete",{id:e.id},(function(e){b.Z.alert(e.msg,"success"),a.getItems()}),(function(e){b.Z.alert(e.msg,"danger")}))}))},editItem(e){this.$router.push("/usuarios/edit/"+e.id)},userSync(){const e=this;b.Z.doAjax("POST","users/sync",{},(function(a){b.Z.alert(a.msg,"success"),e.getItems()}),(function(e){b.Z.alert(e.msg,"danger")}))},goToSso(){window.open(C.v.ssoUrl+"/#/usuarios/edit/0")}}},g=t(89);const y=(0,g.Z)(w,[["render",v]]);var x=y}}]);
//# sourceMappingURL=9402.7efe3a0d.js.map