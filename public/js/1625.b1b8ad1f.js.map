{"version":3,"file":"js/1625.b1b8ad1f.js","mappings":"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","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/views/windows/usuarios/UsuariosListadoFueraOficina.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/windows/usuarios/UsuariosListadoFueraOficina.vue?686e"],"sourcesContent":["<template>\n    <CRow>\n        <CCol :xs=\"12\">\n            <CCard class=\"mb-4\">\n                <CCardHeader>\n                    <strong>Listado de usuarios</strong>\n                    <button @click=\"saveStatusProduct\" class=\"btn btn-primary float-end\">Guardar</button>\n                </CCardHeader>\n                <CCardBody>\n                    <div>\n                        <div class=\"mb-3\">\n                            <label for=\"password\" class=\"form-label\">Buscar por</label>\n                            <div class=\"row\">\n                                <div class=\"col-3\">\n                                    <select class=\"form-select\" v-model=\"typeSearch\">\n                                        <option value=\"email\">Correo electrónico</option>\n                                        <option value=\"name\">Nombre</option>\n                                    </select>\n                                </div>\n                                <div class=\"col-3\">\n                                    <input type=\"text\" v-model=\"searchValue\" class=\"form-control\" placeholder=\"Escribe aquí tu búsqueda\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <EasyDataTable :headers=\"headers\" :items=\"items\" :search-field=\"typeSearch\" :search-value=\"searchValue\" alternating >\n                        <template #item-operation=\"item\">\n                            <div>\n                                <input type=\"checkbox\" :checked=\"!!item.fueraOficina\" @input=\"changeStatusItem($event, item)\"/>\n                            </div>\n                        </template>\n                    </EasyDataTable>\n\n                </CCardBody>\n            </CCard>\n        </CCol>\n    </CRow>\n</template>\n\n<script>\nimport toolbox from \"@/toolbox\";\nimport {config} from \"@/config\";\n\nexport default {\n    name: 'Tables',\n    data() {\n        return {\n            typeSearch: 'email',\n            searchValue: '',\n            headers: [\n                {text: \"Nombre de usuario\", value: \"nombreUsuario\"},\n                {text: \"Correo electrónico\", value: \"email\"},\n                {text: \"Nombre\", value: \"name\"},\n                {text: \"Corporativo\", value: \"corporativo\"},\n                {text: \"Estado\", value: \"estado\"},\n                {text: \"Rol\", value: \"rolUsuario\"},\n                {text: \"Fuera de oficina\", value: \"operation\"},\n            ],\n            items: []\n        };\n    },\n    mounted() {\n        this.getItems();\n    },\n    methods: {\n        getItems() {\n\n            const self = this;\n            toolbox.doAjax('GET', 'users/list/active/jerar', {},\n                function (response) {\n                    //self.items = response.data;\n                    self.items = toolbox.prepareForTable(response.data);\n                    //console.log(self.items);\n                },\n                function (response) {\n                    toolbox.alert(response.msg, 'danger');\n                })\n        },\n        deleteItem(item) {\n            const self = this;\n            toolbox.confirm('Se desactivará este usuario, ¿desea continuar?', function () {\n                toolbox.doAjax('POST', 'users/user/delete', {\n                        id: item.id,\n                    },\n                    function (response) {\n                        toolbox.alert(response.msg, 'success');\n                        self.getItems();\n                    },\n                    function (response) {\n                        toolbox.alert(response.msg, 'danger');\n                    })\n            })\n        },\n        editItem(item) {\n            this.$router.push('/usuarios/edit/' + item.id);\n        },\n        userSync() {\n            const self = this;\n            toolbox.doAjax('POST', 'users/sync', {},\n                function (response) {\n                    toolbox.alert(response.msg, 'success');\n                    self.getItems();\n                },\n                function (response) {\n                    toolbox.alert(response.msg, 'danger');\n                })\n        },\n        goToSso() {\n            const self = this;\n            window.open(config.ssoUrl + '/#/usuarios/edit/0');\n        },\n        changeStatusItem(event, item){\n            const self = this;\n            const estadoItem = event.target.checked;\n            self.items = self.items.map(e => {\n                if(item.id === e.id){\n                    return  {...e, fueraOficina: estadoItem} \n                } else {\n                    return e\n                }\n            });\n        },\n        saveStatusProduct(){\n            const self = this;\n            toolbox.confirm('¿Está seguro de guardar los cambios?', function () {\n                toolbox.doAjax('POST', 'users/change-fuera-oficina', {\n                        items: self.items,\n                    },\n                    function (response) {\n                        toolbox.alert(response.msg, 'success');\n                    },\n                    function (response) {\n                        toolbox.alert(response.msg, 'danger');\n                    })\n            })\n        },\n    }\n}\n</script>\n","import { render } from \"./UsuariosListadoFueraOficina.vue?vue&type=template&id=4259440f\"\nimport script from \"./UsuariosListadoFueraOficina.vue?vue&type=script&lang=js\"\nexport * from \"./UsuariosListadoFueraOficina.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","value","_hoisted_6","_hoisted_7","_createBlock","_component_CRow","_createVNode","_component_CCol","xs","_component_CCard","_component_CCardHeader","_hoisted_1","onClick","_cache","args","$options","saveStatusProduct","_component_CCardBody","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$data","typeSearch","$event","_hoisted_9","type","searchValue","placeholder","_component_EasyDataTable","headers","items","alternating","_withCtx","item","checked","fueraOficina","onInput","changeStatusItem","name","data","text","mounted","this","getItems","methods","self","toolbox","doAjax","response","prepareForTable","alert","msg","deleteItem","confirm","id","editItem","$router","push","userSync","goToSso","window","open","config","ssoUrl","event","estadoItem","target","map","e","__exports__","render"],"sourceRoot":""}