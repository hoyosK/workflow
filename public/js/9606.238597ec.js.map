{"version":3,"file":"js/9606.238597ec.js","mappings":"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","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/views/windows/paginas/EditarPromociones.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/windows/paginas/EditarPromociones.vue?fd47"],"sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h2 class=\"mb-4\" v-if=\"page.id === 0\">Crear nota</h2>\n            <h2 class=\"mb-4\" v-if=\"page.id !== 0\">Editando página de promociones</h2>\n        </div>\n        <div class=\"card-body\">\n\n            <div class=\"row\">\n                <div class=\"form-group col-12 col-md-6 pt-2\">\n                    <label for=\"nombre\" class=\"form-label\">Nombre</label>\n                    <input v-model=\"page.nombre\" type=\"text\" class=\"form-control\" id=\"nombre\" />\n                </div>\n                <div class=\"form-group col-12 col-md-6 pt-2\">\n                    <label for=\"subtitle\" class=\"form-label\">Subtítulo</label>\n                    <input v-model=\"page.subtitle\" type=\"text\" class=\"form-control\" id=\"subtitle\" />\n                </div>\n                <div class=\"form-group col-12 pt-2\">\n                    <label for=\"slug\" class=\"form-label\">Url amigable</label>\n                    <div class=\"input-group mb-3\">\n                        <input v-model=\"page.slug\" type=\"text\" class=\"form-control\" id=\"slug\" />\n                        <a :href=\"'#/promociones/' + page.slug\" class=\"btn btn-primary\" target=\"_blank\"><i class=\"fas fa-external-link me-2\"></i>Ver nota</a>\n                    </div>\n                </div>\n                <div class=\"form-group col-12 col-md-6 pt-2\">\n                    <div class=\"mb-3\">\n                        <span>Configurar acceso por distribuidores</span>\n                        <multiselect\n                            v-model=\"page.grupos_assign\"\n                            :options=\"page.grupos\"\n                            :mode=\"'tags'\"\n                            :searchable=\"true\"/>\n                    </div>\n                </div>\n                <div class=\"form-group col-12 col-md-6 pt-2\">\n                    <div class=\"mb-3\">\n                        <span>Visibilidad de página</span>\n                        <select class=\"form-select\" v-model=\"page.publica\">\n                            <option value=\"0\">Privada</option>\n                            <option value=\"1\">Pública</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"form-group col-12 mt-2\">\n                    <label for=\"img\" class=\"form-label\">Imagen destacada</label>\n                    <div class=\"row\">\n                        <div class=\"col-12 col-md-6 pt-2\">\n                            <file-pond type=\"file\"\n                                       class=\"filepond\"\n                                       name=\"img\"\n                                       label-idle=\"Puedes arrastrar tu imagen aquí\"\n                                       credits=\"false\"\n                                       allow-file-size-validation=\"true\"\n                                       max-file-size=\"3MB\"\n                                       ref=\"filepondInput\"\n                                       :server=\"{\n                                process: (fieldName, file, metadata, load, error, progress, abort) => {\n                                    handleFileUpload(fieldName, file, metadata, load, error, progress, abort, page);\n                                }\n                            }\"\n                            >\n                            </file-pond>\n                        </div>\n                        <div class=\"col-12 col-md-4 pt-2 text-center\" v-if=\"page.img\">\n                            <img :src=\"page.img\" class=\"img img-thumbnail\" style=\"max-width: 150px\">\n                        </div>\n                    </div>\n                    <div class=\"form-group col-12 col-md-12 pt-2\">\n                        <label for=\"Tags\" class=\"form-label\">Tags</label>\n\n                        <vue3-tags-input :tags=\"page.Options\"\n                                         placeholder=\"Ingresa palabras clave\"\n                                         class=\"form-control\"\n                                         @on-tags-changed=\"addTag\"/>\n                    </div>\n\n                </div>\n\n                <div class=\"form-group col-12 col-md-12 pt-2\">\n                    <label for=\"contenido\" class=\"form-label\">Contenido</label>\n                    <Editor\n                        :init=\"{\n                                plugins: plugins,\n                                toolbar: toolbar,\n                                language: language,\n                                promotion: false,\n                                branding: false\n                        }\"\n                        v-model=\"page.contenido\"\n                        tinymce-script-src=\"https://tinyroble.s3.amazonaws.com/tinymce/tinymce.min.js\"\n                    />\n                </div>\n                <div class=\"form-group col-12 col-md-12 pt-2\">\n                    <label for=\"extracto\" class=\"form-label\">Extracto</label>\n                    <textarea v-model=\"page.extracto\" class=\"form-control\" id=\"extracto\"></textarea>\n                </div>\n\n            </div>\n        </div>\n        <div class=\"card-footer text-end\">\n            <button @click=\"$router.push('/admin/promociones/list')\" class=\"btn btn-danger me-2\">Cancelar</button>\n            <button type=\"button\" @click=\"guardarBlog\" class=\"btn btn-primary\">Guardar</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Editor from '@tinymce/tinymce-vue';\nimport Multiselect from '@vueform/multiselect';\nimport Vue3TagsInput from 'vue3-tags-input';\n// Import FilePond\nimport vueFilePond from 'vue-filepond';\nimport {AccordionList, AccordionItem} from \"vue3-rich-accordion\";\nimport \"vue3-rich-accordion/accordion-library-styles.css\";\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\nimport 'filepond/dist/filepond.min.css';\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css';\nimport ExcelJS from \"exceljs\";\nimport toolbox from \"@/toolbox\";\nimport {useRouter, useRoute} from 'vue-router';\nimport Select from \"@/views/forms/Select.vue\";\n\nconst FilePond = vueFilePond(FilePondPluginFileValidateType, FilePondPluginImagePreview);\n\n\n\nexport default {\n    components:{Select, Multiselect, Editor, Vue3TagsInput, FilePond},\n    data() {\n        return {\n            page: {\n                id: 0,\n                nombre: '',\n                slug: '',\n                extracto: '',\n                contenido: '',\n                status: 1,\n                subtitle: '',\n                img: '',\n                Tags: '',\n                Options: [],\n                publica: 0,\n                grupos: [],\n                grupos_assign: [],\n            },\n            plugins: 'code autoresize autosave link image',\n            toolbar: 'undo redo | fontsizeselect formatselect | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent blockquote | link image media',\n            language: 'es',\n            editor: null,\n        };\n    },\n    watch: {\n        'page.nombre': function(newNombre) {\n            this.page.slug = this.createSlug(newNombre);\n        }\n    },\n    mounted() {\n        this.page.id = (typeof this.$route.params.id !== 'undefined') ? parseInt(this.$route.params.id) : 0;\n        this.getGrupos();\n    },\n    methods: {\n        addTag (newTag) {\n            this.page.Options = newTag;\n            this.page.Tags = newTag.toString();\n        },\n        handleFileUpload(fieldName, file, metadata, load, error, progress, abort, page) {\n            const formData = new FormData();\n\n            // Agregar los campos de la variable 'page' al FormData\n            for (const key in page) {\n                if(key !== 'img'){\n                    formData.append(key, page[key]);\n                }\n            }\n\n            // Agregar el archivo al FormData\n            formData.append(fieldName, file, file.name);\n\n            const url = (this.page.id !== 0) ? 'paginas-promociones/new/edit/' + this.page.id : 'paginas-promociones/new/edit';\n\n            toolbox.doAjax('FILE', url, formData, function (response) {\n                if (response.status) {\n                    //const responseData = response.data;\n                    //page.img = responseData.img;\n                    if (response.data.id !== null) {\n                        page.id = response.data.id;\n                    }\n                    if (response.data.nombre !== null) {\n                        page.nombre = response.data.nombre;\n                    }\n                    if (response.data.slug !== null) {\n                        page.slug = response.data.slug;\n                    }\n                    if (response.data.extracto !== null) {\n                        page.extracto = response.data.extracto;\n                    }\n                    if (response.data.contenido !== null) {\n                        page.contenido = response.data.contenido;\n                    }\n                    if (response.data.status !== null) {\n                        page.status = response.data.status;\n                    }\n                    if (response.data.img !== null) {\n                        page.img = response.data.img;\n                    }\n                    if (response.data.subtitle !== null) {\n                        page.subtitle = response.data.subtitle;\n                    }\n                    if (response.data.Tags !== null && response.data.Tags !== \"null\") {\n                        console.log(response.data.Tags);\n                        page.Tags = response.data.Tags;\n                        page.Options = page.Tags.split(',');\n                    }\n                    toolbox.alert(response.msg);\n                    load(response.msg);\n                } else {\n                    toolbox.alert(response.msg);\n                }\n            }, function (response) {\n                toolbox.alert(response.msg);\n            });\n\n            // Devuelve un objeto con un método 'abort' que se activa si el usuario cancela la carga\n            return {\n                abort: () => {\n                    // Si toolbox.doAjax admite cancelación de la solicitud, aquí puedes usarlo.\n                    // Por ejemplo: Abortar la solicitud de toolbox.doAjax si el usuario cancela la carga.\n                    // Consulta la documentación de toolbox.doAjax para obtener más detalles.\n                    abort();\n                },\n            };\n        },\n        getItem() {\n\n            const self = this;\n            toolbox.doAjax('GET', 'paginas-promociones/by/'+self.page.id, {},\n                function (response) {\n                    if (response.data.id !== null) {\n                        self.page.id = response.data.id;\n                    }\n                    if (response.data.nombre !== null) {\n                        self.page.nombre = response.data.nombre;\n                    }\n                    if (response.data.slug !== null) {\n                        self.page.slug = response.data.slug;\n                    }\n                    if (response.data.extracto !== null) {\n                        self.page.extracto = response.data.extracto;\n                    }\n                    if (response.data.contenido !== null) {\n                        self.page.contenido = response.data.contenido;\n                    }\n                    if (response.data.status !== null) {\n                        self.page.status = response.data.status;\n                    }\n                    if (response.data.img !== null) {\n                        self.page.img = response.data.img;\n                    }\n                    if (response.data.subtitle !== null) {\n                        self.page.subtitle = response.data.subtitle;\n                    }\n                    if (response.data.subtitle !== null) {\n                        self.page.publica = response.data.publica;\n                    }\n                    if (response.data.Tags !== null && response.data.Tags !== \"null\") {\n                        self.page.Tags = response.data.Tags;\n                        self.page.Options = self.page.Tags.split(',');\n                    }\n                    if (response.data.acc !== null && response.data.acc !== \"null\") {\n                        self.page.grupos_assign = [];\n                        Object.keys(response.data.acc).map(function (a, b) {\n                            self.page.grupos_assign.push(response.data.acc[a]);\n                        })\n                    }\n                    toolbox.alert(response.msg);\n                },\n                function (response) {\n                    toolbox.alert(response.msg, 'danger');\n                })\n        },\n        guardarBlog() {\n            const self = this;\n            if(self.page.id === 0){\n                toolbox.confirm('Esta pagina se publicará automáticamente en el apartado de promociones del sitio', function () {\n                    //self.selected.id = idCliente;\n                    toolbox.doAjax('POST', 'paginas-promociones/new/edit', self.page, function (response) {\n                        if (typeof response.data.id !== 'undefined') {\n                            self.$router.push('/admin/blog/editar/' + response.data.id);\n                        }\n                        setTimeout(function () {\n                            location.reload();\n                        }, 500);\n                        toolbox.alert(response.msg);\n                    }, function (response) {\n                        toolbox.alert(response.msg);\n                    });\n                });\n            }\n            else{\n                //self.selected.id = idCliente;\n                toolbox.doAjax('PUT', 'paginas-promociones/editar/'+self.page.id, self.page, function (response) {\n                    toolbox.alert(response.msg);\n                    //loadProduct()\n                }, function (response) {\n                    toolbox.alert(response.msg);\n                });\n            }\n\n            //save();\n        },\n        createSlug(nombre) {\n            return nombre\n                .toLowerCase()\n                .replace(/\\s+/g, '-')\n                .replace(/[^a-z0-9-]/g, '');\n        },\n        getGrupos() {\n\n            const self = this;\n            toolbox.doAjax('GET', 'users/grupo/list', {},\n                function (response) {\n                    //self.items = response.data;\n                    self.page.grupos = [];\n                    Object.keys(response.data).map(function (a, b) {\n                        self.page.grupos.push({\n                            value: response.data[a].id,\n                            label: response.data[a].nombre,\n                        })\n                    })\n\n                    if (self.page.id > 0) {\n                        self.getItem();\n                    }\n                },\n                function (response) {\n                    toolbox.alert(response.msg, 'danger');\n                })\n        },\n    }\n};\n</script>\n\n","import { render } from \"./EditarPromociones.vue?vue&type=template&id=4114e68a\"\nimport script from \"./EditarPromociones.vue?vue&type=script&lang=js\"\nexport * from \"./EditarPromociones.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","value","_hoisted_22","_hoisted_23","_createElementBlock","_hoisted_1","_hoisted_2","$data","page","id","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","nombre","$event","type","_hoisted_9","_hoisted_10","subtitle","_hoisted_11","_hoisted_12","_hoisted_13","slug","href","target","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_createVNode","_component_multiselect","grupos_assign","options","grupos","mode","searchable","_hoisted_19","_hoisted_20","_hoisted_21","publica","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_component_file_pond","name","credits","ref","server","fieldName","file","metadata","load","error","progress","abort","$options","handleFileUpload","img","_hoisted_29","src","style","_hoisted_31","_hoisted_32","_component_vue3_tags_input","tags","Options","placeholder","onOnTagsChanged","addTag","_hoisted_33","_hoisted_34","_component_Editor","init","plugins","toolbar","language","contenido","_hoisted_35","_hoisted_36","extracto","_hoisted_37","onClick","_cache","_ctx","$router","push","args","guardarBlog","FilePond","vueFilePond","FilePondPluginFileValidateType","FilePondPluginImagePreview","components","Select","Multiselect","Editor","Vue3TagsInput","data","status","Tags","editor","watch","newNombre","this","createSlug","mounted","$route","params","parseInt","getGrupos","methods","newTag","toString","formData","FormData","key","append","url","toolbox","doAjax","response","console","log","split","alert","msg","getItem","self","acc","Object","keys","map","a","b","confirm","setTimeout","location","reload","toLowerCase","replace","label","__exports__","render"],"sourceRoot":""}