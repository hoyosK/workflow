"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[561],{7758:function(e,l,a){a.d(l,{Z:function(){return R}});var o=a(3396);const t=(0,o._)("strong",null,"Vue Select",-1),s=(0,o._)("small",null,"Default",-1),n=(0,o._)("option",null,"Open this select menu",-1),i=(0,o._)("option",{value:"1"},"One",-1),u=(0,o._)("option",{value:"2"},"Two",-1),r=(0,o._)("option",{value:"3"},"Three",-1),d=(0,o._)("strong",null,"Vue Select",-1),m=(0,o._)("small",null,"Sizing",-1),c=(0,o._)("p",{class:"text-medium-emphasis small"}," You may also choose from small and large custom selects to match our similarly sized text inputs. ",-1),p=(0,o._)("option",null,"Open this select menu",-1),_=(0,o._)("option",{value:"1"},"One",-1),f=(0,o._)("option",{value:"2"},"Two",-1),g=(0,o._)("option",{value:"3"},"Three",-1),b=(0,o._)("option",null,"Open this select menu",-1),h=(0,o._)("option",{value:"1"},"One",-1),v=(0,o._)("option",{value:"2"},"Two",-1),w=(0,o._)("option",{value:"3"},"Three",-1),C=(0,o._)("p",{class:"text-medium-emphasis small"},[(0,o.Uk)(" The "),(0,o._)("code",null,"multiple"),(0,o.Uk)(" attribute is also supported: ")],-1),x=(0,o._)("option",null,"Open this select menu",-1),W=(0,o._)("option",{value:"1"},"One",-1),O=(0,o._)("option",{value:"2"},"Two",-1),Z=(0,o._)("option",{value:"3"},"Three",-1),y=(0,o._)("p",{class:"text-medium-emphasis small"},[(0,o.Uk)(" As is the "),(0,o._)("code",null,"html-size"),(0,o.Uk)(" property: ")],-1),k=(0,o._)("option",null,"Open this select menu",-1),T=(0,o._)("option",{value:"1"},"One",-1),U=(0,o._)("option",{value:"2"},"Two",-1),I=(0,o._)("option",{value:"3"},"Three",-1),D=(0,o._)("strong",null,"Vue Select",-1),j=(0,o._)("small",null,"Disabled",-1),S=(0,o._)("p",{class:"text-medium-emphasis small"},[(0,o.Uk)(" Add the "),(0,o._)("code",null,"disabled"),(0,o.Uk)(" boolean attribute on a select to give it a grayed out appearance and remove pointer events. ")],-1),A=(0,o._)("option",null,"Open this select menu",-1),V=(0,o._)("option",{value:"1"},"One",-1),z=(0,o._)("option",{value:"2"},"Two",-1),E=(0,o._)("option",{value:"3"},"Three",-1);function L(e,l,a,L,M,F){const N=(0,o.up)("CCardHeader"),R=(0,o.up)("CFormSelect"),G=(0,o.up)("DocsExample"),$=(0,o.up)("CCardBody"),q=(0,o.up)("CCard"),B=(0,o.up)("CCol"),H=(0,o.up)("CRow");return(0,o.wg)(),(0,o.j4)(H,null,{default:(0,o.w5)((()=>[(0,o.Wm)(B,{xs:12},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[t,(0,o.Uk)(),s])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[(0,o.Wm)(G,{href:"forms/select.html"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{"aria-label":"Default select example"},{default:(0,o.w5)((()=>[n,i,u,r])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(B,{xs:12},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[d,(0,o.Uk)(),m])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[c,(0,o.Wm)(G,{href:"forms/select.html#sizing"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{size:"lg",class:"mb-3","aria-label":"Large select example"},{default:(0,o.w5)((()=>[p,_,f,g])),_:1}),(0,o.Wm)(R,{size:"sm",class:"mb-3","aria-label":"Small select example"},{default:(0,o.w5)((()=>[b,h,v,w])),_:1})])),_:1}),C,(0,o.Wm)(G,{href:"forms/select.html#sizing"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{size:"lg",multiple:"","aria-label":"Multiple select example"},{default:(0,o.w5)((()=>[x,W,O,Z])),_:1})])),_:1}),y,(0,o.Wm)(G,{href:"forms/select.html#sizing"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{size:"lg",multiple:"","aria-label":"Multiple select example"},{default:(0,o.w5)((()=>[k,T,U,I])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(B,{xs:12},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,null,{default:(0,o.w5)((()=>[D,(0,o.Uk)(),j])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[S,(0,o.Wm)(G,{href:"forms/select.html#disabled"},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{"aria-label":"Disabled select example",disabled:""},{default:(0,o.w5)((()=>[A,V,z,E])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var M={name:"Select"},F=a(89);const N=(0,F.Z)(M,[["render",L]]);var R=N},561:function(e,l,a){a.r(l),a.d(l,{default:function(){return B}});a(7658);var o=a(3396),t=a(9242);const s=(0,o._)("strong",null,"Editar distribuidor",-1),n={class:"row"},i={class:"col-12 col-sm-6"},u={class:"mb-3"},r=(0,o._)("label",{for:"Nombre",class:"form-label"},"Nombre del distribuidor",-1),d={class:"col-12 col-sm-6"},m={class:"mb-3"},c=(0,o._)("label",{for:"Nombre",class:"form-label"},"Activo",-1),p=(0,o._)("option",{value:"1"},"Activo",-1),_=(0,o._)("option",{value:"0"},"Desactivado",-1),f=[p,_],g={class:"col-12 col-sm-6"},b={class:"mb-3"},h=(0,o._)("label",{for:"codigo",class:"form-label"},"Código interno",-1),v={class:"col-12"},w={class:"mb-3"},C={key:0},x=(0,o._)("hr",null,null,-1),W=(0,o._)("label",{for:"Nombre",class:"form-label"},"Imagen",-1),O={class:"col-12"},Z={class:"mb-3"},y={key:0},k=(0,o._)("hr",null,null,-1),T=(0,o._)("label",{for:"Nombre",class:"form-label"},"Cintillo",-1),U={class:"col-12"},I=(0,o._)("hr",null,null,-1),D={class:"mb-3"},j=(0,o._)("h6",{class:"text-muted mb-3"},"Roles en grupo",-1),S=(0,o._)("label",{for:"password",class:"form-label"},"Selecciona los roles",-1),A={class:"col-12"},V={class:"mb-3"},z=(0,o._)("h6",{class:"text-muted mb-3"},"Usuarios específicos en grupo",-1),E=(0,o._)("label",{for:"password",class:"form-label"},"Selecciona los usuarios del grupo",-1),L={class:"col-12 mt-4 text-end"};function M(e,l,a,p,_,M){const F=(0,o.up)("CCardHeader"),N=(0,o.up)("CCardImage"),R=(0,o.up)("CFormInput"),G=(0,o.up)("multiselect"),$=(0,o.up)("CCardBody"),q=(0,o.up)("CCard"),B=(0,o.up)("CCol"),H=(0,o.up)("CRow");return(0,o.wg)(),(0,o.j4)(H,null,{default:(0,o.w5)((()=>[(0,o.Wm)(B,{xs:12},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(F,null,{default:(0,o.w5)((()=>[s])),_:1}),(0,o.Wm)($,null,{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o._)("div",i,[(0,o._)("div",u,[r,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"Nombre",placeholder:"Escribe aquí","onUpdate:modelValue":l[0]||(l[0]=e=>_.nombre=e)},null,512),[[t.nr,_.nombre]])])]),(0,o._)("div",d,[(0,o._)("div",m,[c,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":l[1]||(l[1]=e=>_.activo=e)},f,512),[[t.bM,_.activo]])])]),(0,o._)("div",g,[(0,o._)("div",b,[h,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"Codigo",placeholder:"Código interno","onUpdate:modelValue":l[2]||(l[2]=e=>_.codigoInterno=e)},null,512),[[t.nr,_.codigoInterno]])])]),(0,o._)("div",v,[(0,o._)("div",w,[_.imagen?((0,o.wg)(),(0,o.iD)("div",C,[(0,o.Wm)(N,{src:_.imagen,rounded:"",thumbnail:"",orientation:"top",style:{"max-width":"200px","max-height":"100px"}},null,8,["src"]),x])):(0,o.kq)("",!0),W,(0,o.Wm)(R,{type:"file",onChange:M.onMainImageChange,class:"form-control form-control-file",accept:"image/*"},null,8,["onChange"])])]),(0,o._)("div",O,[(0,o._)("div",Z,[_.cintillo?((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(N,{src:_.cintillo,rounded:"",thumbnail:"",orientation:"top",style:{"max-width":"200px","max-height":"100px"}},null,8,["src"]),k])):(0,o.kq)("",!0),T,(0,o.Wm)(R,{type:"file",onChange:M.onMainCintilloChange,class:"form-control form-control-file",accept:"image/*"},null,8,["onChange"])])]),(0,o._)("div",U,[I,(0,o._)("div",D,[j,S,(0,o.Wm)(G,{modelValue:_.roles,"onUpdate:modelValue":l[3]||(l[3]=e=>_.roles=e),options:_.rolesOptions,mode:"tags",searchable:!0},null,8,["modelValue","options"])])]),(0,o._)("div",A,[(0,o._)("div",V,[z,E,(0,o.Wm)(G,{modelValue:_.usuarios,"onUpdate:modelValue":l[4]||(l[4]=e=>_.usuarios=e),options:_.usuariosOptions,mode:"tags",searchable:!0},null,8,["modelValue","options"])])])]),(0,o._)("div",null,[(0,o._)("div",L,[(0,o._)("button",{onClick:l[5]||(l[5]=(...e)=>M.guardar&&M.guardar(...e)),class:"btn btn-primary me-4"},"Guardar"),(0,o._)("button",{onClick:l[6]||(l[6]=l=>e.$router.push("/usuarios/grupo/listado")),class:"btn btn-danger"},"Cancelar")])])])),_:1})])),_:1})])),_:1})])),_:1})}var F=a(4768),N=a(7758),R=a(7091),G={name:"Tables",components:{Select:N.Z,Multiselect:R.Z},data(){return{id:0,nombre:"",imagen:"",activo:0,roles:[],rolesOptions:[],usuarios:[],usuariosOptions:[],cintillo:"",codigoInterno:""}},mounted(){this.id="undefined"!==typeof this.$route.params.id?parseInt(this.$route.params.id):0,this.getData()},methods:{getData(){const e=this;this.getUsers(),F.Z.doAjax("GET","users/role/list",{},(function(l){e.rolesOptions=[],Object.keys(l.data).map((function(a,o){e.rolesOptions.push({value:l.data[a].id,label:l.data[a].name})})),e.id>0&&F.Z.doAjax("GET","users/grupo/get/"+e.id,{},(function(l){e.id=l.data.id,e.nombre=l.data.nombre,e.activo=l.data.activo,e.imagen=l.data.imagen,e.cintillo=l.data.cintillo,e.codigoInterno=l.data.codigoInterno,e.roles=[],Object.keys(l.data.rolList).map((function(a,o){e.roles.push(l.data.rolList[a])})),e.usuarios=[],Object.keys(l.data.userList).map((function(a,o){e.usuarios.push(l.data.userList[a])}))}),(function(e){F.Z.alert(e.msg,"danger")}))}),(function(e){F.Z.alert(e.msg,"danger")}))},getUsers(){const e=this;F.Z.doAjax("GET","users/list",{},(function(l){e.usuariosOptions=[],Object.keys(l.data).map((function(a,o){e.usuariosOptions.push({value:l.data[a].id,label:l.data[a].name+" ("+l.data[a].email+")"})}))}),(function(e){F.Z.alert(e.msg,"danger")}))},guardar(){const e=this,l={id:e.id,nombre:e.nombre,activo:e.activo,roles:e.roles,imagen:e.imagen,usuarios:e.usuarios,codigoInterno:e.codigoInterno};let a=!1;F.Z.isEmpty(this.nombre)&&(F.Z.alert("Debe ingresar un nombre de grupo","danger"),a=!0),a||F.Z.doAjax("POST","users/grupo/save-user",l,(function(l){F.Z.alert(l.msg,"success"),e.$router.push("/usuarios/grupo/listado"),e.getData()}),(function(e){F.Z.alert(e.msg,"danger")}))},onMainImageChange(e){const l=e.target.files[0],a=new FileReader,o=this;a.onload=()=>{o.imagen=a.result},a.readAsDataURL(l)},onMainCintilloChange(e){const l=e.target.files[0],a=(new FileReader,this),o=new FormData;if(o.append("file",l),a.id)o.append("id",a.id),F.Z.doAjax("FILE","users/grupo/save-cintillo",o,(function(e){a.cintillo=e.data,F.Z.alert(e.msg)}),(function(e){F.Z.alert(e.msg,"danger")}));else{o.append("id",a.id);const e=a.nombre?a.nombre:"Sin nombre",l={id:a.id,nombre:e,activo:a.activo,roles:a.roles,imagen:a.imagen,usuarios:a.usuarios};F.Z.doAjax("POST","users/grupo/save-user",l,(function(e){F.Z.alert(e.msg,"success"),a.id=e.data,o.append("id",a.id),F.Z.doAjax("FILE","users/grupo/save-cintillo",o,(function(e){a.cintillo=e.data,F.Z.alert(e.msg)}),(function(e){F.Z.alert(e.msg,"danger")}))}),(function(e){F.Z.alert(e.msg,"danger")}))}}}},$=a(89);const q=(0,$.Z)(G,[["render",M]]);var B=q}}]);
//# sourceMappingURL=561.0eebe113.js.map