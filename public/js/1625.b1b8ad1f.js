"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[1625],{1625:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var s=a(3396),r=a(9242);const o=(0,s._)("strong",null,"Listado de usuarios",-1),u={class:"mb-3"},n=(0,s._)("label",{for:"password",class:"form-label"},"Buscar por",-1),c={class:"row"},i={class:"col-3"},l=(0,s._)("option",{value:"email"},"Correo electrónico",-1),d=(0,s._)("option",{value:"name"},"Nombre",-1),m=[l,d],f={class:"col-3"},p=["checked","onInput"];function h(e,t,a,l,d,h){const _=(0,s.up)("CCardHeader"),v=(0,s.up)("EasyDataTable"),g=(0,s.up)("CCardBody"),b=(0,s.up)("CCard"),w=(0,s.up)("CCol"),C=(0,s.up)("CRow");return(0,s.wg)(),(0,s.j4)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[o,(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>h.saveStatusProduct&&h.saveStatusProduct(...e)),class:"btn btn-primary float-end"},"Guardar")])),_:1}),(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",u,[n,(0,s._)("div",c,[(0,s._)("div",i,[(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>d.typeSearch=e)},m,512),[[r.bM,d.typeSearch]])]),(0,s._)("div",f,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>d.searchValue=e),class:"form-control",placeholder:"Escribe aquí tu búsqueda"},null,512),[[r.nr,d.searchValue]])])])])]),(0,s.Wm)(v,{headers:d.headers,items:d.items,"search-field":d.typeSearch,"search-value":d.searchValue,alternating:""},{"item-operation":(0,s.w5)((e=>[(0,s._)("div",null,[(0,s._)("input",{type:"checkbox",checked:!!e.fueraOficina,onInput:t=>h.changeStatusItem(t,e)},null,40,p)])])),_:1},8,["headers","items","search-field","search-value"])])),_:1})])),_:1})])),_:1})])),_:1})}a(7658);var _=a(4768),v=a(86),g={name:"Tables",data(){return{typeSearch:"email",searchValue:"",headers:[{text:"Nombre de usuario",value:"nombreUsuario"},{text:"Correo electrónico",value:"email"},{text:"Nombre",value:"name"},{text:"Corporativo",value:"corporativo"},{text:"Estado",value:"estado"},{text:"Rol",value:"rolUsuario"},{text:"Fuera de oficina",value:"operation"}],items:[]}},mounted(){this.getItems()},methods:{getItems(){const e=this;_.Z.doAjax("GET","users/list/active/jerar",{},(function(t){e.items=_.Z.prepareForTable(t.data)}),(function(e){_.Z.alert(e.msg,"danger")}))},deleteItem(e){const t=this;_.Z.confirm("Se desactivará este usuario, ¿desea continuar?",(function(){_.Z.doAjax("POST","users/user/delete",{id:e.id},(function(e){_.Z.alert(e.msg,"success"),t.getItems()}),(function(e){_.Z.alert(e.msg,"danger")}))}))},editItem(e){this.$router.push("/usuarios/edit/"+e.id)},userSync(){const e=this;_.Z.doAjax("POST","users/sync",{},(function(t){_.Z.alert(t.msg,"success"),e.getItems()}),(function(e){_.Z.alert(e.msg,"danger")}))},goToSso(){window.open(v.v.ssoUrl+"/#/usuarios/edit/0")},changeStatusItem(e,t){const a=this,s=e.target.checked;a.items=a.items.map((e=>t.id===e.id?{...e,fueraOficina:s}:e))},saveStatusProduct(){const e=this;_.Z.confirm("¿Está seguro de guardar los cambios?",(function(){_.Z.doAjax("POST","users/change-fuera-oficina",{items:e.items},(function(e){_.Z.alert(e.msg,"success")}),(function(e){_.Z.alert(e.msg,"danger")}))}))}}},b=a(89);const w=(0,b.Z)(g,[["render",h]]);var C=w}}]);
//# sourceMappingURL=1625.b1b8ad1f.js.map