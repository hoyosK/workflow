"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[5437,8041],{7758:function(a,e,l){l.d(e,{Z:function(){return N}});var s=l(3396);const o=(0,s._)("strong",null,"Vue Select",-1),t=(0,s._)("small",null,"Default",-1),i=(0,s._)("option",null,"Open this select menu",-1),n=(0,s._)("option",{value:"1"},"One",-1),c=(0,s._)("option",{value:"2"},"Two",-1),r=(0,s._)("option",{value:"3"},"Three",-1),d=(0,s._)("strong",null,"Vue Select",-1),m=(0,s._)("small",null,"Sizing",-1),u=(0,s._)("p",{class:"text-medium-emphasis small"}," You may also choose from small and large custom selects to match our similarly sized text inputs. ",-1),p=(0,s._)("option",null,"Open this select menu",-1),_=(0,s._)("option",{value:"1"},"One",-1),f=(0,s._)("option",{value:"2"},"Two",-1),h=(0,s._)("option",{value:"3"},"Three",-1),v=(0,s._)("option",null,"Open this select menu",-1),b=(0,s._)("option",{value:"1"},"One",-1),g=(0,s._)("option",{value:"2"},"Two",-1),w=(0,s._)("option",{value:"3"},"Three",-1),C=(0,s._)("p",{class:"text-medium-emphasis small"},[(0,s.Uk)(" The "),(0,s._)("code",null,"multiple"),(0,s.Uk)(" attribute is also supported: ")],-1),k=(0,s._)("option",null,"Open this select menu",-1),y=(0,s._)("option",{value:"1"},"One",-1),x=(0,s._)("option",{value:"2"},"Two",-1),U=(0,s._)("option",{value:"3"},"Three",-1),W=(0,s._)("p",{class:"text-medium-emphasis small"},[(0,s.Uk)(" As is the "),(0,s._)("code",null,"html-size"),(0,s.Uk)(" property: ")],-1),S=(0,s._)("option",null,"Open this select menu",-1),D=(0,s._)("option",{value:"1"},"One",-1),E=(0,s._)("option",{value:"2"},"Two",-1),z=(0,s._)("option",{value:"3"},"Three",-1),A=(0,s._)("strong",null,"Vue Select",-1),T=(0,s._)("small",null,"Disabled",-1),O=(0,s._)("p",{class:"text-medium-emphasis small"},[(0,s.Uk)(" Add the "),(0,s._)("code",null,"disabled"),(0,s.Uk)(" boolean attribute on a select to give it a grayed out appearance and remove pointer events. ")],-1),V=(0,s._)("option",null,"Open this select menu",-1),Z=(0,s._)("option",{value:"1"},"One",-1),I=(0,s._)("option",{value:"2"},"Two",-1),P=(0,s._)("option",{value:"3"},"Three",-1);function j(a,e,l,j,M,q){const B=(0,s.up)("CCardHeader"),N=(0,s.up)("CFormSelect"),H=(0,s.up)("DocsExample"),$=(0,s.up)("CCardBody"),G=(0,s.up)("CCard"),K=(0,s.up)("CCol"),L=(0,s.up)("CRow");return(0,s.wg)(),(0,s.j4)(L,null,{default:(0,s.w5)((()=>[(0,s.Wm)(K,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(G,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[o,(0,s.Uk)(),t])),_:1}),(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(H,{href:"forms/select.html"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{"aria-label":"Default select example"},{default:(0,s.w5)((()=>[i,n,c,r])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(K,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(G,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[d,(0,s.Uk)(),m])),_:1}),(0,s.Wm)($,null,{default:(0,s.w5)((()=>[u,(0,s.Wm)(H,{href:"forms/select.html#sizing"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{size:"lg",class:"mb-3","aria-label":"Large select example"},{default:(0,s.w5)((()=>[p,_,f,h])),_:1}),(0,s.Wm)(N,{size:"sm",class:"mb-3","aria-label":"Small select example"},{default:(0,s.w5)((()=>[v,b,g,w])),_:1})])),_:1}),C,(0,s.Wm)(H,{href:"forms/select.html#sizing"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{size:"lg",multiple:"","aria-label":"Multiple select example"},{default:(0,s.w5)((()=>[k,y,x,U])),_:1})])),_:1}),W,(0,s.Wm)(H,{href:"forms/select.html#sizing"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{size:"lg",multiple:"","aria-label":"Multiple select example"},{default:(0,s.w5)((()=>[S,D,E,z])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(K,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(G,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[A,(0,s.Uk)(),T])),_:1}),(0,s.Wm)($,null,{default:(0,s.w5)((()=>[O,(0,s.Wm)(H,{href:"forms/select.html#disabled"},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{"aria-label":"Disabled select example",disabled:""},{default:(0,s.w5)((()=>[V,Z,I,P])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var M={name:"Select"},q=l(89);const B=(0,q.Z)(M,[["render",j]]);var N=B},8041:function(a,e,l){l.r(e),l.d(e,{default:function(){return x}});var s=l(3396),o=l(7139),t=l(4427);const i={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},n=(0,s._)("div",null,[(0,s._)("img",{src:t,style:{"max-width":"200px",margin:"auto","margin-top":"16%"}})],-1),c=(0,s._)("h1",null,"Gestor Auto",-1),r=(0,s._)("div",{class:"mt-4"},[(0,s._)("h4",{class:"text-primary"}," Iniciar sesión ")],-1),d=(0,s._)("p",{class:"text-medium-emphasis mt-4"},"Presiona el botón para iniciar sesión",-1),m={key:0,class:"text-danger mb-4"},u={key:1,class:"text-muted"},p=["src"],_={class:"mt-4"},f=["href"];function h(a,e,l,t,h,v){const b=(0,s.up)("CCardBody"),g=(0,s.up)("CCard"),w=(0,s.up)("CButton"),C=(0,s.up)("CCol"),k=(0,s.up)("CRow"),y=(0,s.up)("CCardGroup"),x=(0,s.up)("CContainer");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"justify-content-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{md:8},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"text-white bg-primary py-5",style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"text-center"},{default:(0,s.w5)((()=>[n])),_:1})])),_:1}),(0,s.Wm)(g,{class:"p-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"text-center"},{default:(0,s.w5)((()=>[c,r,d,(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[""!==h.msg?((0,s.wg)(),(0,s.iD)("div",m,(0,o.zw)(h.msg),1)):(0,s.kq)("",!0),(0,s.Wm)(C,{xs:12,class:"text-center mt-5"},{default:(0,s.w5)((()=>[h.loginProcess?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("img",{src:t.loadingImg,style:{"max-width":"30px"}},null,8,p),(0,s.Uk)(" Cargando ")])):((0,s.wg)(),(0,s.j4)(w,{key:0,color:"primary",class:"px-4 w-100",onClick:v.login},{default:(0,s.w5)((()=>[(0,s.Uk)("Iniciar sesión")])),_:1},8,["onClick"])),(0,s._)("div",_,[(0,s._)("a",{color:"link",class:"px-0 text-dark small",href:h.ssoUrl+"/#/reset-password"}," Olvidé mi contraseña ",8,f)])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}l(7658);var v=l(4768),b=l(65),g=l(9163),w=l(86),C={name:"Login",data(){return{ssoUrl:"",username:"",password:"",msg:"",loginProcess:!1}},setup(){return{loadingImg:g}},mounted(){this.ssoUrl=w.v.ssoUrl},methods:{...(0,b.OI)(["authSetInfo"]),login(){const a=this;this.loginProcess=!0;const e=Math.floor(99999*Math.random());(function(l,s,o,t,i,n){window.ERSSO={t:i,h:{},c:n};let c=s.getElementsByTagName(o)[0],r=s.createElement(o);r.async=!0,r.src=a.ssoUrl+"/ERLd.js?c="+e,c.parentNode.insertBefore(r,c)})(window,document,"script",0,w.v.ssoToken,(function(e){v.Z.doAjax("POST","auth/login",{ssotoken:e.token},(function(e){a.authSetInfo(e.data),a.$router.push("/panel-productos"),a.loginProcess=!1}),(function(e){a.msg=e.msg,a.loginProcess=!1}))}))}}},k=l(89);const y=(0,k.Z)(C,[["render",h]]);var x=y},5437:function(a,e,l){l.r(e),l.d(e,{default:function(){return Ja}});l(7658);var s=l(3396),o=l(9242),t=l(7139);const i=(0,s._)("strong",null,"Editar plantilla de tarea",-1),n=(0,s._)("div",null,[(0,s._)("h5",null,"Datos de plantilla"),(0,s._)("hr")],-1),c={class:"row"},r={class:"col-12 col-sm-4"},d={class:"mb-3"},m=(0,s._)("label",{class:"form-label"},"Nombre",-1),u={class:"col-12 col-sm-4"},p={class:"mb-3"},_=(0,s._)("label",{class:"form-label"},"Descripción",-1),f={class:"col-12 col-sm-4"},h=(0,s._)("label",{class:"form-label"},"Inicia con estado",-1),v=(0,s._)("option",{value:"creada"},"Creada",-1),b=(0,s._)("option",{value:"progreso"},"En progreso",-1),g=(0,s._)("option",{value:"pausada"},"Pausada",-1),w=(0,s._)("option",{value:"finalizada"},"Finalizada",-1),C=[v,b,g,w],k={class:"col-12 col-sm-4"},y=(0,s._)("label",{class:"form-label"},"Finaliza con estado",-1),x=(0,s._)("option",{value:"creada"},"Creada",-1),U=(0,s._)("option",{value:"progreso"},"En progreso",-1),W=(0,s._)("option",{value:"pausada"},"Pausada",-1),S=(0,s._)("option",{value:"finalizada"},"Finalizada",-1),D=[x,U,W,S],E={class:"mt-5"},z=(0,s._)("div",null,[(0,s._)("h5",null,"Configuración de pasos para tarea"),(0,s._)("hr"),(0,s._)("div",{class:"mb-4"}," Las tareas pueden incluir diversos pasos para ser completadas. ")],-1),A={class:"formBuilder"},T={class:"secciones"},O=(0,s._)("hr",null,null,-1),V={class:"row"},Z={class:"col-12 col-sm-6"},I=(0,s._)("label",{class:"form-label"},"Nombre de paso",-1),P=["onUpdate:modelValue"],j={class:"col-12 col-sm-12 mt-3"},M=(0,s._)("label",{class:"form-label"},"Instrucciones",-1),q=["onUpdate:modelValue"],B={class:"mt-4"},N=(0,s._)("div",{class:"fw-bold mb-3"},[(0,s._)("span",null,"Campos de llenado:")],-1),H={class:"table"},$=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"Nombre a mostrar"),(0,s._)("th",{scope:"col"},"Archivador / Campo"),(0,s._)("th",{scope:"col"})])],-1),G=["onClick"],K={key:0},L={class:"row"},R={class:"col-12 col-sm-4"},Y={class:"mb-3"},F=(0,s._)("label",{class:"form-label"},"Archivador/Campo",-1),J={class:"col-12 col-sm-4"},Q={class:"mb-3"},X=(0,s._)("label",{class:"form-label"},"Nombre a mostrar",-1),aa={class:"col-12 col-sm-4"},ea={class:"mb-3"},la=(0,s._)("label",{class:"form-label"},"Tamaño en PC",-1),sa=["value"],oa={class:"col-12 col-sm-4"},ta={class:"mb-3"},ia=(0,s._)("label",{class:"form-label"},"Tamaño en móvil",-1),na=["value"],ca={class:"col-12"},ra={class:"row"},da={class:"col-12 col-sm-2"},ma={class:"mb-3"},ua={class:"pt-4"},pa=(0,s._)("label",{class:"form-label ms-2"},"Visible",-1),_a={class:"col-12 col-sm-2"},fa={class:"mb-3"},ha={class:"pt-4"},va=(0,s._)("label",{class:"form-label ms-2"},"Deshabilitado",-1),ba={class:"col-12 col-sm-2"},ga={class:"mb-3"},wa={class:"pt-4"},Ca=(0,s._)("label",{class:"form-label ms-2"},"Activo",-1),ka={class:"mt-4"},ya={class:"row"},xa={class:"col-12 col-sm-6"},Ua=["onClick"],Wa=(0,s._)("i",{class:"fa fa-plus me-2"},null,-1),Sa=["onClick"],Da=(0,s._)("i",{class:"fa fa-check me-2"},null,-1),Ea=["onClick"],za=(0,s._)("i",{class:"fa fa-ban me-2"},null,-1),Aa={class:"col-12 col-sm-6 text-end"},Ta=["onClick"],Oa=(0,s._)("i",{class:"fa fa-arrow-up"},null,-1),Va=[Oa],Za=["onClick"],Ia=(0,s._)("i",{class:"fa fa-arrow-down"},null,-1),Pa=[Ia],ja=["onClick"],Ma=(0,s._)("i",{class:"fa fa-trash"},null,-1),qa=[Ma],Ba=(0,s._)("i",{class:"fa fa-plus me-2"},null,-1),Na={class:"mt-5 text-end"};function Ha(a,e,l,v,b,g){const w=(0,s.up)("CCardHeader"),x=(0,s.up)("multiselect"),U=(0,s.up)("CCardBody"),W=(0,s.up)("CCard"),S=(0,s.up)("CCol"),Oa=(0,s.up)("CRow");return(0,s.wg)(),(0,s.j4)(Oa,null,{default:(0,s.w5)((()=>[(0,s.Wm)(S,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[i])),_:1}),(0,s.Wm)(U,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[n,(0,s._)("div",c,[(0,s._)("div",r,[(0,s._)("div",d,[m,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Escribe aquí","onUpdate:modelValue":e[0]||(e[0]=a=>b.nombre=a),onKeyup:e[1]||(e[1]=(...a)=>g.friendlyUrl&&g.friendlyUrl(...a))},null,544),[[o.nr,b.nombre]])])]),(0,s._)("div",u,[(0,s._)("div",p,[_,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"Escribe aquí","onUpdate:modelValue":e[2]||(e[2]=a=>b.descripcion=a)},null,512),[[o.nr,b.descripcion]])])]),(0,s._)("div",f,[h,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>b.iniciaEstado=a)},C,512),[[o.bM,b.iniciaEstado]])]),(0,s._)("div",k,[y,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>b.finEstado=a)},D,512),[[o.bM,b.finEstado]])])])]),(0,s._)("div",E,[z,(0,s._)("div",A,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.pasos,((a,l)=>((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("div",null,[(0,s._)("h4",null,"Paso No. "+(0,t.zw)(l+1),1),O]),(0,s._)("div",V,[(0,s._)("div",Z,[I,(0,s.wy)((0,s._)("input",{class:"form-control","onUpdate:modelValue":e=>a.nombre=e},null,8,P),[[o.nr,a.nombre]])]),(0,s._)("div",j,[M,(0,s.wy)((0,s._)("textarea",{class:"form-control","onUpdate:modelValue":e=>a.instrucciones=e},null,8,q),[[o.nr,a.instrucciones]])])]),(0,s._)("div",B,[N,(0,s._)("div",null,[(0,s._)("table",H,[$,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.campos,((a,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("th",null,(0,t.zw)(a.nombre),1),(0,s._)("td",null,(0,t.zw)(a.archivadorCampo),1),(0,s._)("td",null,[(0,s._)("i",{class:"fa fa-trash text-danger",onClick:l=>g.deleteCampo(e,a)},null,8,G)])])))),256))])])]),a.agregarCampo?((0,s.wg)(),(0,s.iD)("div",K,[(0,s._)("div",L,[(0,s._)("div",R,[(0,s._)("div",Y,[F,(0,s.Wm)(x,{modelValue:b.campo.archivadorDetalleId,"onUpdate:modelValue":e[5]||(e[5]=a=>b.campo.archivadorDetalleId=a),options:b.optionsArchivadores,searchable:!0},null,8,["modelValue","options"])])]),(0,s._)("div",J,[(0,s._)("div",Q,[X,(0,s.wy)((0,s._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>b.campo.nombre=a)},null,512),[[o.nr,b.campo.nombre]])])]),(0,s._)("div",aa,[(0,s._)("div",ea,[la,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":e[7]||(e[7]=a=>b.campo.layoutSizePc=a)},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(12,(a=>(0,s._)("option",{value:a},(0,t.zw)(a)+" columna(s)",9,sa))),64))],512),[[o.bM,b.campo.layoutSizePc]])])]),(0,s._)("div",oa,[(0,s._)("div",ta,[ia,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>b.campo.layoutSizeMobile=a)},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(12,(a=>(0,s._)("option",{value:a},(0,t.zw)(a)+" columna(s)",9,na))),64))],512),[[o.bM,b.campo.layoutSizeMobile]])])]),(0,s._)("div",ca,[(0,s._)("div",ra,[(0,s._)("div",da,[(0,s._)("div",ma,[(0,s._)("div",ua,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=a=>b.campo.visible=a),value:"1"},null,512),[[o.e8,b.campo.visible]]),pa])])]),(0,s._)("div",_a,[(0,s._)("div",fa,[(0,s._)("div",ha,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=a=>b.campo.deshabilitado=a),value:"1"},null,512),[[o.e8,b.campo.deshabilitado]]),va])])]),(0,s._)("div",ba,[(0,s._)("div",ga,[(0,s._)("div",wa,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=a=>b.campo.activo=a),value:"1"},null,512),[[o.e8,b.campo.activo]]),Ca])])])])])])])):(0,s.kq)("",!0),(0,s._)("div",ka,[(0,s._)("div",ya,[(0,s._)("div",xa,[a.agregarCampo?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e=>a.agregarCampo=!0,class:"btn btn-secondary me-4"},[Wa,(0,s.Uk)("Agregar campo")],8,Ua)),a.agregarCampo?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:a=>g.saveCampo(l),class:"btn btn-success me-4"},[Da,(0,s.Uk)("Continuar")],8,Sa)):(0,s.kq)("",!0),a.agregarCampo?((0,s.wg)(),(0,s.iD)("button",{key:2,onClick:e=>a.agregarCampo=!1,class:"btn btn-danger me-4"},[za,(0,s.Uk)("Cancelar")],8,Ea)):(0,s.kq)("",!0)]),(0,s._)("div",Aa,[(0,s._)("button",{onClick:a=>g.moverSeccionArriba(l),class:"btn btn-dark me-2"},Va,8,Ta),(0,s._)("button",{onClick:a=>g.moverSeccionAbajo(l),class:"btn btn-dark me-2"},Pa,8,Za),(0,s._)("button",{onClick:e=>g.eliminarSeccion(a),class:"btn btn-danger me-2"},qa,8,ja)])])])])])))),256)),(0,s._)("button",{onClick:e[12]||(e[12]=(...a)=>g.addSection&&g.addSection(...a)),class:"btn btn-primary me-4"},[Ba,(0,s.Uk)("Agregar paso")])])]),(0,s._)("div",Na,[(0,s._)("button",{onClick:e[13]||(e[13]=e=>a.$router.push("/admin/tareas-templates")),class:"btn btn-danger me-4"},"Cancelar"),(0,s._)("button",{onClick:e[14]||(e[14]=(...a)=>g.guardar&&g.guardar(...a)),class:"btn btn-primary"},"Guardar")])])),_:1})])),_:1})])),_:1})])),_:1})}var $a=l(4768),Ga=l(86),Ka=(l(7758),l(8041)),La=l(7091),Ra={name:"Tables",computed:{login(){return Ka["default"]}},components:{Multiselect:La.Z},data(){return{id:0,nombre:"",descripcion:"",iniciaEstado:"",finEstado:"",activo:1,agregarCampo:!1,campo:{id:0,archivadorCampo:"",nombre:"",layoutSizePc:"",layoutSizeMobile:"",cssClass:"",requerido:0,deshabilitado:0,visible:0,activo:0,archivadorDetalleId:0},campos:[],pasos:[],optionsArchivadores:[]}},mounted(){this.id="undefined"!==typeof this.$route.params.id?parseInt(this.$route.params.id):0,this.urlApp=Ga.v.appUrl,this.getData(),this.getArchivadores()},methods:{getData(){const a=this;a.id>0&&$a.Z.doAjax("GET","admin/tareas-templates/load/"+a.id,{},(function(e){a.id=e.data.id,a.nombre=e.data.nombre,a.descripcion=e.data.descripcion,a.iniciaEstado=e.data.iniciaEstado,a.finEstado=e.data.finEstado,a.activo=!!e.data.activo,a.pasos=[],"undefined"!==typeof e.data.paso&&Object.keys(e.data.paso).map((function(l){const s={id:e.data.paso[l].id,nombre:e.data.paso[l].nombre,instrucciones:e.data.paso[l].instrucciones,campos:[]};Object.keys(e.data.paso[l].campos).map((function(a){const o={id:e.data.paso[l].campos[a].id,nombre:e.data.paso[l].campos[a].nombre,archivadorDetalleId:e.data.paso[l].campos[a].archivadorDetalleId,archivadorCampo:e.data.paso[l].campos[a].archivador_detalle.archivador.nombre+" / "+e.data.paso[l].campos[a].archivador_detalle.nombre};s.campos.push(o)})),a.pasos.push(s)}))}),(function(a){$a.Z.alert(a.msg,"danger")}))},guardar(){const a=this;this.ordenarSecciones(),$a.Z.doAjax("POST","admin/tareas-templates/save",{id:a.id,nombre:a.nombre,descripcion:a.descripcion,activo:a.activo,iniciaEstado:a.iniciaEstado,finEstado:a.finEstado,pasos:a.pasos},(function(e){$a.Z.alert(e.msg,"success"),a.$router.push("/admin/tareas-templates")}),(function(a){$a.Z.alert(a.msg,"danger")}))},addSection(){const a={nombre:"",campos:[]};this.pasos.push(a)},resetCampo(){this.campo={id:0,nombre:"",tipoCampo:"",mascara:"",longitudMin:0,longitudMax:0}},saveCampo(a){this.pasos[a].agregarCampo=!1;const e=this;this.optionsArchivadores.forEach((function(a){a.value===e.campo.archivadorDetalleId&&(e.campo.archivadorCampo=a.label)})),"undefined"===typeof this.pasos[a].campos&&(this.pasos[a].campos=[]),0===parseInt(this.campo.id)&&this.pasos[a].campos.push(this.campo),this.resetCampo()},deleteCampo(a,e){const l=this;$a.Z.confirm("Si elimina un campo que esté asociado a información de formularios, este únicamente se desactivará. ¿Desea continuar?",(function(){l.campos.splice(a,1),$a.Z.doAjax("POST","admin/tareas-templates/delete-field",{id:e.id},(function(a){$a.Z.alert(a.msg,"success")}),(function(a){$a.Z.alert(a.msg,"danger")}))}))},editCampo(a){this.agregarCampo=!0,this.campo=a},changeTipoCampo(a){this.campo.tipoCampo=a},getArchivadores(){const a=this;$a.Z.doAjax("GET","admin/archivador/fields",{},(function(e){Object.keys(e.data).map((function(l,s){a.optionsArchivadores.push({value:e.data[l].id,label:e.data[l].nombre})}))}),(function(a){$a.Z.alert(a.msg,"danger")}))},friendlyUrl(){this.urlAmigable=this.nombre.replace(/[^a-z0-9_]+/gi,"-").replace(/^-|-$/g,"").toLowerCase()},ordenarSecciones(){const a=this;this.pasos.forEach((function(e,l){a.pasos[l].orden=l}))},moverSeccionArriba(a){const e=a-1;if(e>=this.pasos.length){var l=e-this.pasos.length+1;while(l--)this.pasos.push(void 0)}this.pasos.splice(e,0,this.pasos.splice(a,1)[0])},moverSeccionAbajo(a){const e=a+1;if(e>=this.pasos.length){var l=e-this.pasos.length+1;while(l--)this.pasos.push(void 0)}this.pasos.splice(e,0,this.pasos.splice(a,1)[0])},eliminarSeccion(a){const e=this;$a.Z.confirm("¿Está seguro de eliminar?",(function(){$a.Z.doAjax("POST","admin/tareas-templates/delete-paso",{id:a.id},(function(a){$a.Z.alert(a.msg,"success"),e.getData()}),(function(a){$a.Z.alert(a.msg,"danger")}))}))}}},Ya=l(89);const Fa=(0,Ya.Z)(Ra,[["render",Ha]]);var Ja=Fa}}]);
//# sourceMappingURL=5437.2a07ea6c.js.map